[TOC]

# kettle 执行很多后不执行

**文档整理**

ysys

**日期**

2018-10-22

**标签**

kettle,job not run



## 背景

​	今天在现场跑了一个kettle的job,它是一个循环调度，设计是从n个文件遍历插入到数据库中，脚本插入了1000多个文件后，到了某个文件，kettle就是执行不下去，查看那个文件也存在，不知道到底什么原因出现这个问题。当时时间较为紧张，没有办法就只好先停止方案后，重新调起来，方案又正常在跑了(之前的文件入库后都打上了标记，不会重新写入到数据库)，那个文件也入库了。



## 猜测

1、kettle自己的bug

2、网络出现问题

3、自己设计的方案有问题

4、文件有问题

5、其他问题



​	第一个kettle自己的bug，没有办法确认；第二个网络问题，当时还有其他的方案再跑，第三个方案：这个方案跑的一直挺好的，之前承受过更搞得运算量；第四个，重启方案后，文件解析入库成功了，第五个，其他问题就不知道是什么问题了。

​	刚才有遇到这个问题，突然发现数据库无法插入进入，还有一个数据库的问题。



​	将方案设计成每隔几分钟执行一次，每次执行一小部分数据，看看是否还会有这个问题。



**暂时想到的解决方案**：每次执行一部分数据，这样好避免当大量数据执行可能造成的问题





